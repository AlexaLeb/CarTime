# CarTime

## Доменная модель сервиса прогнозирования спроса


### Сущности    
	1.	User    
	•	user_id (PK) — уникальный идентификатор пользователя    
	•	email — логин (уникальный адрес электронной почты)  
	•	password_hash — хеш пароля  
	•	created_at — дата и время создания аккаунта     
	2.	Balance 
	•	balance_id (PK) — уникальный идентификатор записи баланса   
	•	user_id (FK → User.user_id) — ссылка на владельца баланса   
	•	amount — текущая сумма на балансе (decimal) 
	•	updated_at — дата и время последнего изменения баланса  
	3.	Transaction 
	•	tx_id (PK) — уникальный идентификатор транзакции    
	•	user_id (FK → User.user_id) — ссылка на пользователя, которому при надлежит транзакция  
	•	balance_id (FK → Balance.balance_id) — ссылка на баланс пользователя    
	•	tx_type — тип операции: debit (списание) или credit (пополнение)    
	•	amount — сумма операции (decimal)   
	•	timestamp — дата и время транзакции 
	•	description — необязательное текстовое описание операции    
	4.	Prediction  
	•	prediction_id (PK) — уникальный идентификатор прогноза  
	•	user_id (FK → User.user_id) — ссылка на автора прогноза 
	•	requested_at — дата и время запроса прогноза    
	•	region — регион, для которого сделан прогноз    
	•	predicted_value — предсказанное количество поездок  
	•	cost — стоимость этого прогноза (списываемая с баланса) 

⸻

### Связи (отношения)   
	•	User ↔ Balance (1:1) аждый пользователь имеет ровно один текущий баланс.        
	•	User → Prediction (1:М) Один пользователь может делать множество прогнозов. 
	•	User → Transaction (1:М) Один пользователь может совершать множество операций по своему балансу. 
	•	Balance → Transaction (1:М) Каждому балансу соответствует множество транзакций (списаний и пополнений). 
	•	Prediction → Transaction (логика приложения) При создании прогноза в системе создаётся транзакция типа debit на сумму cost.  